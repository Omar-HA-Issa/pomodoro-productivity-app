# Pomodoro Productivity App

A full-stack productivity application implementing the Pomodoro Technique with focus timers, session templates, and scheduling.

## Features

- **Focus Timer**: Cycles between 'Focus' sessions and 'Break' sessions
- **Session Templates**: CRUD for reusable timer configurations for pomodoro sessions
- **Calendar Scheduling**: Schedule sessions for specific dates/times
- **Dashboard**: Track streaks, sessions, and today's schedule
- **Insights**: View completed sessions with AI sentiment analysis using Hugging Face API

## Tech Stack

- **Backend**: Node.js, Express, SQLite, Supabase Auth, Jest   
- **Frontend**: React, TypeScript, React Router, Context API

## Prerequisites

- Node.js (v16+)
- npm

## Installation & Run

1. **Clone the repository**
```bash
git clone https://github.com/Omar-HA-Issa/pomodoro-productivity-app.git
cd pomodoro-productivity-app
```

2. **Environment & Setup**
This repo includes `.env.example` templates. Here is how to setup the environment:

1) Copy the templates:
- `backend/.env.example` → create `backend/.env`
- `frontend/.env.example` → create `frontend/.env`

2) Fill in values** from `.env.example` into your new `.env` files.

> **Note:** The needed API keys for the backend `.env` file can be found in the Blackboard submission.

3. **Install Dependencies & Run**

**For the backend:**
```bash
cd backend
npm install
npm start
```

**For the frontend:**
```bash
cd frontend
npm install
npm start
```

## Access the Application

The app will run at:
- Frontend → http://localhost:5173  
- Backend → http://localhost:8000

4. **Run tests**

```bash
cd backend
npm test
```

## Branches Overview

This repository contains three main branches used during development:

- **`main`**: The primary production branch containing the final, stable version of the app.  
- **`backup`**: Created during the transition from Supabase to SQLite to prevent app-breaking errors.  
- **`clean_up`**: Used for optimizing code, improving readability, and adding clearer explanations and documentation throughout the project.  

Each branch served a specific purpose during different stages of development, ensuring stability as the application was being developed.
## Project Structure

**Backend:**
- `routes/` - API endpoints (sessions, timer, schedule, dashboard, insights)
- `tests/` - Jest test files 
- `middleware/` - Authentication middleware
- `database.js` - SQLite + Supabase setup
- `pomodoro.db` - SQLite database generated by `database.js` for use in the entire app
- `server.js` - Express app

**Frontend:**
- `src/pages/` - Dashboard, Focus, Insights, Schedule, Templates
- `src/pages/auth_pages` - Login, SignUp, ResetPassword, ForgotPassword files for authentication
- `src/components/` - Navigation, ProtectedRoute
- `src/assests/` - Contains the assets for the login page and tab icon 
- `src/lib/api.ts` - Backend API client for all HTTP requests
- `src/contexts/` - AuthContext

## API Overview

All endpoints require authentication via Bearer token.

**Sessions**: `/api/sessions` - CRUD for session templates  
**Timer**: `/api/timer/start|pause|resume|stop` - Timer controls  
**Schedule**: `/api/schedule` - Calendar scheduling  
**Dashboard**: `/api/dashboard/overview|streak|stats` - Overview of the sessions  
**Insights**: `/api/insights/completed-sessions|analyze` - Analytics of sessions using sentiment analysis

## Database Overview

SQLite database (`pomodoro.db`) is auto-generated on first run with tables:
- `sessions`:  Session templates
- `timer_sessions`: Timer records with sentiment tracking
- `scheduled_sessions`: Calendar events

## Troubleshooting

**Port conflicts**: Backend uses 8000, frontend uses 5173. Change in `.env` if needed.

**Database reset**: `rm backend/pomodoro.db` then restart server


